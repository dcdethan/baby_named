<!--pages/index/index.wxml-->
<view class="container">
  <view class="header">
    <text class="title">AI智能起名</text>
    <text class="subtitle">基于八字五行与中华文学</text>
  </view>

  <form bindsubmit="onSubmit">
    <view class="form-container">
      <!-- 姓氏 -->
      <view class="form-item card">
        <view class="label">姓氏 <text class="required">*</text></view>
        <input
          class="input"
          name="surname"
          value="{{formData.surname}}"
          bindinput="onSurnameInput"
          placeholder="请输入姓氏"
        />
      </view>

      <!-- 生日 -->
      <view class="form-item card">
        <view class="label">阳历生日 <text class="required">*</text></view>
        <picker
          mode="date"
          name="birthday"
          value="{{formData.birthday}}"
          bindchange="onBirthdayChange"
          start="1900-01-01"
          end="{{today}}"
        >
          <view class="picker {{formData.birthday ? '' : 'picker-placeholder'}}">
            {{formData.birthday || '请选择出生日期'}}
          </view>
        </picker>
      </view>

      <!-- 性别 -->
      <view class="form-item card">
        <view class="label">性别 <text class="required">*</text></view>
        <radio-group class="radio-group" name="gender" bindchange="onGenderChange">
          <label class="radio-item">
            <radio value="male" checked="{{formData.gender === 'male'}}" color="#07c160"/>
            <text>男孩</text>
          </label>
          <label class="radio-item">
            <radio value="female" checked="{{formData.gender === 'female'}}" color="#07c160"/>
            <text>女孩</text>
          </label>
        </radio-group>
      </view>

      <!-- 五行八字 -->
      <view class="form-item card">
        <view class="label">五行八字</view>
        <picker
          mode="selector"
          range="{{wuxingOptions}}"
          range-key="label"
          value="{{wuxingIndex}}"
          bindchange="onWuxingChange"
        >
          <view class="picker">
            {{wuxingOptions[wuxingIndex].label}}
          </view>
        </picker>
      </view>

      <!-- 名字字数 -->
      <view class="form-item card">
        <view class="label">名字字数</view>
        <picker
          mode="selector"
          range="{{nameCountOptions}}"
          range-key="label"
          value="{{nameCountIndex}}"
          bindchange="onNameCountChange"
        >
          <view class="picker">
            {{nameCountOptions[nameCountIndex].label}}
          </view>
        </picker>
      </view>

      <!-- 起名风格 -->
      <view class="form-item card">
        <view class="label">起名风格 <text class="required">*</text></view>
        <radio-group class="radio-group-vertical" name="style" bindchange="onStyleChange">
          <label class="radio-item-vertical">
            <radio value="shijing" checked="{{formData.style === 'shijing'}}" color="#07c160"/>
            <view class="radio-content">
              <text class="radio-title">诗经</text>
              <text class="radio-desc">源自《诗经》，体现草木风物与人文美德的典雅意境</text>
            </view>
          </label>
          <label class="radio-item-vertical">
            <radio value="chuci" checked="{{formData.style === 'chuci'}}" color="#07c160"/>
            <view class="radio-content">
              <text class="radio-title">楚辞</text>
              <text class="radio-desc">源自《楚辞》，强调香草美人、天地遨游的浪漫意象</text>
            </view>
          </label>
          <label class="radio-item-vertical">
            <radio value="modern" checked="{{formData.style === 'modern'}}" color="#07c160"/>
            <view class="radio-content">
              <text class="radio-title">现代</text>
              <text class="radio-desc">融合自然意象，简洁明快、音韵悦耳、易读易写</text>
            </view>
          </label>
        </radio-group>
      </view>
    </view>

    <!-- 提交按钮 -->
    <view class="submit-container">
      <button
        class="btn-primary"
        formType="submit"
        loading="{{loading}}"
        disabled="{{loading}}"
      >
        {{loading ? '生成中...' : '开始起名'}}
      </button>
    </view>
  </form>
</view>
